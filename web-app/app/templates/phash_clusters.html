<!DOCTYPE html>
<html>
<head>
    <title>Perceptual Hash Clusters</title>
</head>
<body>
    <h1>Photos Grouped by Visual Similarity (Perceptual Hash)</h1>
    {% for cluster_id, paths in clusters.items() %}
        <h2>{{ cluster_id }}</h2>
        {% for path in paths %}
            <div style="display:inline-block; margin:10px;">
                <img src="{{ url_for('static', filename=path.split('static/')[-1]) }}" width="200"><br>
                <form method="POST" action="/feedback">
                    <input type="hidden" name="photo" value="{{ path }}">
                    <input type="hidden" name="cluster" value="{{ cluster_id }}">
                    <button name="label" value="correct">Correct</button>
                    <button name="label" value="incorrect">Incorrect</button>
                </form>
            </div>
        {% endfor %}
        <hr>
    {% endfor %}
    <a href="/">Back to Home</a>
</body>
</html>
