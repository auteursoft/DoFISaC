<!DOCTYPE html>
<html>
<head>
  <title>Search Results</title>
</head>
<body>
  <h1>Search Results for {{ query }}</h1>
  <a href="{{ url_for('index') }}">Back to Home</a>
  <div style="display: flex; flex-wrap: wrap;">
    {% for r in results %}
      <div style="margin: 10px; text-align: center;">
        <a href="file://{{ r.path }}" target="_blank">
          <img src="{{ url_for('static', filename='thumbnails/' + r.thumb_name) }}" width="160">
        </a>
        <p>{{ r.path }}</p>
        <p>Match: {{ r.get('match', 'unknown') }}</p>
        <p>Distance: {{ "%.2f"|format(r.get('distance', 0)) if r.get('distance') else 'n/a' }}</p>
      </div>
    {% endfor %}
  </div>
</body>
</html>